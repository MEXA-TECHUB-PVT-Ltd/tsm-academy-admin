"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[206],{3206:function(e,r,n){n.r(r);var s=n(74165),t=n(15861),i=n(29439),a=n(61889),l=n(20068),o=n(36151),c=n(20890),u=n(1582),d=n(28029),m=n(47071),p=n(66362),h=n(99321),x=n(23786),g=n(72791),f=n(99372),Z=n(26564),v=n(37781),j=n(57689),b=n(14473),k=n(81724),y=n(92506),S=n(80184);r.default=function(){var e=(0,j.s0)(),r=(0,g.useState)([]),n=(0,i.Z)(r,2),_=n[0],w=n[1],P=(0,g.useState)([]),C=(0,i.Z)(P,2),W=C[0],B=C[1],E=(0,g.useState)(""),R=(0,i.Z)(E,2),A=R[0],z=R[1],U=(0,g.useState)([]),q=(0,i.Z)(U,2),D=q[0],I=q[1],N=function(){var e=(0,t.Z)((0,s.Z)().mark((function e(){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,b.U2)("program/get");case 3:r=e.sent,console.log("ALL PROGRAMS"),console.log(r),r.error||(w(r.result.reverse()),z(r.result[0].program_id)),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=(0,t.Z)((0,s.Z)().mark((function e(){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,b.U2)("package/getAllPackages");case 3:r=e.sent,console.log(r),r.error?console.log("error true"):(console.log(r.result),console.log("COURSSES"),B(r.result)),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,g.useEffect)((function(){N(),V()}),[]),(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(a.ZP,{container:!0,spacing:2,children:(0,S.jsx)(a.ZP,{item:!0,xs:12,md:12,style:{position:"relative"},children:(0,S.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,S.jsxs)(a.ZP,{item:!0,xs:12,md:12,style:{display:"flex",flexDirection:"row",justifyContent:"left",marginBottom:"2%"},children:[(0,S.jsx)(l.Z,{title:"Back",children:(0,S.jsx)(o.Z,{onClick:function(){e("/users")},className:"poppinsRegularBold",sx:{paddingInline:"10px",display:"block",color:"#03356b",backgroundColor:"none",fontSize:"16px",fontWeight:600,borderRadius:"50px",textTransform:"capitalize",transition:"background-color 0.3s, color 0.3s",transitionDelay:"0.3s",marginRight:"10px","&:hover":{backgroundColor:"#03356b",color:"white"}},children:(0,S.jsx)(f.Z,{})})}),(0,S.jsx)(c.Z,{variant:"h3",style:{fontWeight:700},children:"Add User"})]}),(0,S.jsx)(a.ZP,{item:!0,xs:12,md:12,children:(0,S.jsx)(y.J9,{initialValues:{user_name:"",email:"",submit:null},validationSchema:k.Ry().shape({user_name:k.Z_().required("Name is required"),email:k.Z_().required("Email is required")}),onSubmit:function(){var r=(0,t.Z)((0,s.Z)().mark((function r(n,t){var i,a,l,o,c,u;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i=t.setErrors,a=t.setStatus,l=t.setSubmitting,t.resetForm,r.prev=1,console.log(n),l(!0),console.log("pricingPlansA[0]?.price_plan"),console.log(A),console.log(D),o=0;case 8:if(!(o<D.length)){r.next=27;break}return c={user_name:n.user_name,email:n.email,program_id:A,package_id:D[o]},r.prev=10,r.next=13,(0,b.v_)("user/register",c);case 13:u=r.sent,console.log("ADD User "),console.log(u),u.error?(console.log("error true"),(0,v.Z)("error",u.message),l(!1)):(a({success:!1}),l(!1),setTimeout((function(){e("/users")}),1e3)),r.next=24;break;case 19:r.prev=19,r.t0=r.catch(10),(0,v.Z)("error","Something Went Wrong"),a({success:!1}),l(!1);case 24:o++,r.next=8;break;case 27:(0,v.Z)("success","Added Successfully"),a({success:!1}),l(!1),r.next=37;break;case 32:r.prev=32,r.t1=r.catch(1),a({success:!1}),i({submit:r.t1.message}),l(!1);case 37:case"end":return r.stop()}}),r,null,[[1,32],[10,19]])})));return function(e,n){return r.apply(this,arguments)}}(),children:function(e){var r=e.errors,n=e.handleBlur,i=e.handleChange,l=e.handleSubmit,g=e.isSubmitting,f=e.touched,v=e.values;return(0,S.jsx)("form",{noValidate:!0,onSubmit:l,children:(0,S.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,S.jsx)(a.ZP,{item:!0,xs:12,md:12,children:(0,S.jsx)(a.ZP,{container:!0,spacing:2,style:{border:"1px solid lightGray",borderRadius:"10px",backgroundColor:"white"},children:(0,S.jsx)(a.ZP,{item:!0,xs:12,md:12,children:(0,S.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,S.jsx)(a.ZP,{item:!0,xs:12,md:4}),(0,S.jsxs)(a.ZP,{item:!0,xs:12,md:4,style:{padding:"20px"},children:[(0,S.jsxs)(u.Z,{spacing:1,children:[(0,S.jsx)(c.Z,{variant:"h5",children:"Name"}),(0,S.jsx)(d.Z,{id:"email-login",type:"text",value:v.user_name,name:"user_name",onBlur:n,onChange:i,fullWidth:!0,error:Boolean(f.user_name&&r.user_name)}),f.user_name&&r.user_name&&(0,S.jsx)(m.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:r.user_name})]}),(0,S.jsxs)(u.Z,{spacing:1,children:[(0,S.jsx)(c.Z,{variant:"h5",children:"Email"}),(0,S.jsx)(d.Z,{id:"email-login",type:"text",value:v.email,name:"email",onBlur:n,onChange:i,fullWidth:!0,error:Boolean(f.email&&r.email)}),f.email&&r.email&&(0,S.jsx)(m.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:r.email})]}),(0,S.jsxs)(u.Z,{spacing:1,children:[(0,S.jsx)(c.Z,{variant:"h5",children:"Selected Program"}),(0,S.jsx)(p.Z,{fullWidth:!0,children:(0,S.jsx)(h.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:A,onChange:function(){var e=(0,t.Z)((0,s.Z)().mark((function e(r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(r.target.value),z(r.target.value);case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),children:_.map((function(e,r){return(0,S.jsx)(x.Z,{value:e.program_id,children:e.title},r)}))})})]}),(0,S.jsxs)(u.Z,{spacing:1,children:[(0,S.jsx)(c.Z,{variant:"h5",children:"Selected Courses to Enroll"}),(0,S.jsx)(p.Z,{fullWidth:!0,children:(0,S.jsx)(h.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:D,multiple:!0,onChange:function(e){I(e.target.value),console.log(D)},renderValue:function(e){return e.map((function(e){return W.find((function(r){return r.package_id===e})).package_name})).join(", ")},children:W.map((function(e,r){return(0,S.jsx)(x.Z,{value:e.package_id,disabled:D.includes(e.package_id),children:e.package_name},r)}))})}),0===(null===D||void 0===D?void 0:D.length)&&(0,S.jsx)("span",{style:{color:"red",fontSize:"12px"},children:" Select Courses to Enroll "})]}),(0,S.jsx)(u.Z,{spacing:1,mt:2,display:"flex",justifyContent:"center",children:(0,S.jsx)(o.Z,{disabled:g,startIcon:g?(0,S.jsx)(Z.Z,{color:"#fff",loading:g,size:20}):null,type:"submit",disableElevation:!0,variant:"contained",size:"medium",style:{width:"20%",fontWeight:700,color:"white",boxShadow:" 0px 2px 30px -15px rgba(94,94,107,0.67)"},color:"primary",children:"Save"})})]})]})})})}),r.submit&&(0,S.jsx)(a.ZP,{item:!0,xs:12,children:(0,S.jsx)(m.Z,{error:!0,children:r.submit})})]})})}})})]})})})})}}}]);
//# sourceMappingURL=206.b1a74324.chunk.js.map
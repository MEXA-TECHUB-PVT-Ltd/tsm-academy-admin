"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[403],{41403:function(e,n,r){r.r(n);var i=r(74165),t=r(15861),l=r(29439),s=r(61889),o=r(20068),a=r(36151),c=r(20890),d=r(1582),u=r(28029),p=r(47071),x=r(94925),h=r(66362),m=r(99321),g=r(23786),f=r(64554),Z=r(93044),v=r(72791),j=r(85231),y=r(99372),b=r(43500),k=r(72351),_=r(26564),w=r(37781),C=r(57689),S=r(14473),P=r(81724),R=r(92506),I=r(80184);n.default=function(){var e=(0,C.UO)().course_id,n=(0,v.useRef)(null),r=(0,v.useState)(null),B=(0,l.Z)(r,2),W=B[0],z=B[1],A=(0,v.useState)(null),D=(0,l.Z)(A,2),E=D[0],q=D[1],V=function(e){var n=e.target.files[0];if(n){q(n);var r=new FileReader;r.onload=function(){z(r.result)},r.readAsDataURL(n)}},F=function(){n.current.click()},L=(0,C.s0)(),U=(0,v.useState)([]),G=(0,l.Z)(U,2),O=G[0],T=G[1],M=(0,v.useState)([]),N=(0,l.Z)(M,2),J=N[0],H=N[1],K=(0,v.useState)(""),Q=(0,l.Z)(K,2),X=Q[0],Y=Q[1],$=(0,v.useState)([]),ee=(0,l.Z)($,2),ne=ee[0],re=ee[1],ie=function(){var e=(0,t.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,S.U2)("program/get");case 3:n=e.sent,console.log("ALL PROGRAMS"),console.log(n),n.error||(T(n.result.reverse()),Y(n.result[0].program_id)),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),te=function(){var n=(0,t.Z)((0,i.Z)().mark((function n(){var r;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,S.U2)("package/getAllPackages");case 3:r=n.sent,console.log(r),r.error?console.log("error true"):(console.log(r.result),console.log("COURSSES"),H(r.result),null===e||void 0===e||""===e||re(e)),n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}();return(0,v.useEffect)((function(){ie(),te()}),[]),(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(s.ZP,{container:!0,spacing:2,children:(0,I.jsx)(s.ZP,{item:!0,xs:12,md:12,style:{position:"relative"},children:(0,I.jsxs)(s.ZP,{container:!0,spacing:2,children:[(0,I.jsxs)(s.ZP,{item:!0,xs:12,md:12,style:{display:"flex",flexDirection:"row",justifyContent:"left",marginBottom:"2%"},children:[(0,I.jsx)(o.Z,{title:"Back",children:(0,I.jsx)(a.Z,{onClick:function(){L("/videos")},className:"poppinsRegularBold",sx:{paddingInline:"10px",display:"block",color:"#03356b",backgroundColor:"none",fontSize:"16px",fontWeight:600,borderRadius:"50px",textTransform:"capitalize",transition:"background-color 0.3s, color 0.3s",transitionDelay:"0.3s",marginRight:"10px","&:hover":{backgroundColor:"#03356b",color:"white"}},children:(0,I.jsx)(y.Z,{})})}),(0,I.jsx)(c.Z,{variant:"h3",style:{fontWeight:700},children:"Add Course Video"})]}),(0,I.jsx)(s.ZP,{item:!0,xs:12,md:12,children:(0,I.jsx)(R.J9,{initialValues:{name:"",description:"",stripe_payment_link:"",submit:null},validationSchema:P.Ry().shape({name:P.Z_().required("Name is required"),description:P.Z_().required("Description is required"),stripe_payment_link:P.Z_().required("Stripe Payment Link is required")}),onSubmit:function(){var e=(0,t.Z)((0,i.Z)().mark((function e(n,r){var t,l,s,o,a,c,d,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.setErrors,l=r.setStatus,s=r.setSubmitting,r.resetForm,e.prev=1,console.log(n),console.log(E),null!==E&&""!==E){e.next=8;break}(0,w.Z)("error","Image is required"),e.next=13;break;case 8:return c={image:E},e.next=11,(0,S.nv)(c);case 11:a=e.sent,console.log(a);case 13:return s(!0),d={thumbnail:null===(o=a)||void 0===o?void 0:o.path,program_id:X,package_id:ne,title:n.name,description:n.description,video_url:n.stripe_payment_link},e.prev=15,e.next=18,(0,S.v_)("program_videos/add",d);case 18:u=e.sent,console.log("ADD Video "),console.log(u),u.error?(console.log("error true"),(0,w.Z)("error",u.message),s(!1)):(setTimeout((function(){(0,w.Z)("success","Video Added Successfully"),L("/videos")}),1e3),l({success:!1}),s(!1)),e.next=29;break;case 24:e.prev=24,e.t0=e.catch(15),(0,w.Z)("error","Something Went Wrong"),l({success:!1}),s(!1);case 29:l({success:!1}),s(!1),e.next=38;break;case 33:e.prev=33,e.t1=e.catch(1),l({success:!1}),t({submit:e.t1.message}),s(!1);case 38:case"end":return e.stop()}}),e,null,[[1,33],[15,24]])})));return function(n,r){return e.apply(this,arguments)}}(),children:function(e){var r=e.errors,l=e.handleBlur,o=e.handleChange,v=e.handleSubmit,y=e.isSubmitting,w=e.touched,C=e.values,S=e.submitForm;return(0,I.jsx)("form",{noValidate:!0,onSubmit:v,children:(0,I.jsxs)(s.ZP,{container:!0,spacing:3,children:[(0,I.jsx)(s.ZP,{item:!0,xs:12,md:12,children:(0,I.jsx)(s.ZP,{container:!0,spacing:2,style:{border:"1px solid lightGray",borderRadius:"10px",backgroundColor:"white"},children:(0,I.jsx)(s.ZP,{item:!0,xs:12,md:12,children:(0,I.jsxs)(s.ZP,{container:!0,spacing:2,children:[(0,I.jsxs)(s.ZP,{item:!0,xs:12,md:6,style:{padding:"20px"},children:[(0,I.jsxs)(d.Z,{spacing:1,children:[(0,I.jsx)(c.Z,{variant:"h5",children:"Title"}),(0,I.jsx)(u.Z,{id:"email-login",type:"text",value:C.name,name:"name",onBlur:l,onChange:o,fullWidth:!0,error:Boolean(w.name&&r.name)}),w.name&&r.name&&(0,I.jsx)(p.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:r.name})]}),(0,I.jsxs)(d.Z,{spacing:1,children:[(0,I.jsx)(c.Z,{variant:"h5",children:"Description"}),(0,I.jsx)(u.Z,{id:"description",type:"text",value:C.description,name:"description",onBlur:l,onChange:o,fullWidth:!0,multiline:!0,rows:4,error:Boolean(w.description&&r.description)}),w.description&&r.description&&(0,I.jsx)(p.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:r.description})]}),(0,I.jsxs)(d.Z,{spacing:1,children:[(0,I.jsx)(c.Z,{variant:"h5",children:"Video Url"}),(0,I.jsx)(x.Z,{htmlFor:"email-login",children:"This url should be get from Voomly  ."}),(0,I.jsxs)(d.Z,{spacing:1,display:"flex",direction:"row",children:[(0,I.jsx)(u.Z,{id:"stripe_payment_link",type:"text",value:C.stripe_payment_link,name:"stripe_payment_link",onBlur:l,onChange:o,fullWidth:!0,error:Boolean(w.stripe_payment_link&&r.stripe_payment_link)}),(0,I.jsx)(a.Z,{disableElevation:!0,variant:"outlined",onClick:function(){return window.open("https://app.voomly.com/","_blank")},startIcon:(0,I.jsx)(b.Z,{}),size:"medium",style:{color:"rgb(76 91 104)",fontWeight:700,backgroundColor:"white",border:"1px solid lightGray",boxShadow:" 0px 2px 30px -15px rgba(94,94,107,0.67)"},color:"secondary",children:"Voomly"})]}),w.stripe_payment_link&&r.stripe_payment_link&&(0,I.jsx)(p.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:r.stripe_payment_link})]}),(0,I.jsxs)(d.Z,{spacing:1,children:[(0,I.jsx)(c.Z,{variant:"h5",children:" Program"}),(0,I.jsx)(h.Z,{fullWidth:!0,children:(0,I.jsx)(m.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:X,onChange:function(){var e=(0,t.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(n.target.value),Y(n.target.value);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),children:O.map((function(e,n){return(0,I.jsx)(g.Z,{value:e.program_id,children:e.title},n)}))})})]}),(0,I.jsxs)(d.Z,{spacing:1,children:[(0,I.jsx)(c.Z,{variant:"h5",children:"Course"}),(0,I.jsx)(h.Z,{fullWidth:!0,children:(0,I.jsx)(m.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:ne,onChange:function(e){re(e.target.value),console.log(ne)},children:J.map((function(e,n){return(0,I.jsx)(g.Z,{value:e.package_id,children:e.package_name},n)}))})}),""===ne&&(0,I.jsx)("span",{style:{color:"red",fontSize:"12px"},children:" Select Courses to Enroll "})]})]}),(0,I.jsx)(s.ZP,{item:!0,xs:12,md:6,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,I.jsxs)(d.Z,{spacing:1,children:[""===W||null===W?(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(f.Z,{onClick:F,style:{width:"100%",marginInline:"2%",padding:"15px",backgroundColor:"#f2f0f0",border:"3px dotted #cecece",borderRadius:"10px"},children:(0,I.jsxs)(f.Z,{style:{display:"flex",alignItems:"center",justifyContent:"center",paddingBlock:"10%",flexDirection:"column"},children:[(0,I.jsx)(k.Z,{style:{fontSize:"50px",color:"gray"}}),(0,I.jsx)(c.Z,{variant:"h6",children:"Choose an image"})]})})}):(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(f.Z,{onClick:F,style:{marginInline:"2%",backgroundColor:"#f2f0f0",border:"3px dotted #cecece",borderRadius:"10px",display:"flex",justifyContent:"center",flexDirection:"column"},children:[W&&(0,I.jsx)(Z.Z,{src:W,alt:"Selected",style:{width:"auto",height:"200px",border:"1px solid lightGray",borderRadius:"10px"},variant:"square"}),(0,I.jsx)(j.Z,{children:(0,I.jsx)(a.Z,{onClick:function(){return z("")},disableElevation:!0,variant:"outlined",size:"medium",style:{color:"rgb(76 91 104)",fontWeight:700,backgroundColor:"white",border:"1px solid lightGray",boxShadow:" 0px 2px 30px -15px rgba(94,94,107,0.67)",marginBlock:"1%"},color:"secondary",children:"Change Image"})})]})}),(0,I.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},id:"fileInput",onChange:V,ref:n})]})})]})})})}),(0,I.jsxs)(s.ZP,{item:!0,xs:12,align:"right",children:[(0,I.jsx)(a.Z,{disabled:y,startIcon:y?(0,I.jsx)(_.Z,{color:"#fff",loading:y,size:20}):null,type:"submit",disableElevation:!0,variant:"contained",size:"medium",style:{fontWeight:700,color:"white",boxShadow:" 0px 2px 30px -15px rgba(94,94,107,0.67)",marginInline:"2%"},color:"primary",children:"Save"}),(0,I.jsx)(a.Z,{disabled:y,startIcon:y?(0,I.jsx)(_.Z,{color:"#fff",loading:y,size:20}):null,onClick:function(){S().then((function(){window.location.reload()}))},disableElevation:!0,variant:"contained",size:"medium",style:{fontWeight:700,color:"white",boxShadow:" 0px 2px 30px -15px rgba(94,94,107,0.67)"},color:"primary",children:"Save & Add More"})]})]})})}})})]})})})})}},43500:function(e,n,r){r.d(n,{Z:function(){return a}});var i=r(1413),t=r(72791),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},s=r(34110),o=function(e,n){return t.createElement(s.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:n,icon:l}))};o.displayName="PaperClipOutlined";var a=t.forwardRef(o)}}]);
//# sourceMappingURL=403.68a2c853.chunk.js.map
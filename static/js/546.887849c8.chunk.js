"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[546],{546:function(e,n,r){r.r(n);var i=r(74165),t=r(15861),a=r(29439),s=r(61889),l=r(20068),o=r(36151),c=r(20890),d=r(1582),u=r(28029),x=r(93044),h=r(64554),g=r(72791),p=r(85231),f=r(99372),m=r(26564),v=r(37781),Z=r(57689),j=r(14473),b=r(30748),w=r(80184);n.default=function(){var e=(0,g.useRef)(null),n=(0,g.useState)(null),r=(0,a.Z)(n,2),y=r[0],k=r[1],C=(0,g.useState)(null),R=(0,a.Z)(C,2),S=R[0],P=R[1],W=(0,g.useState)(!1),I=(0,a.Z)(W,2),z=I[0],E=I[1],_=(0,Z.UO)().id,D=(0,g.useState)(""),G=(0,a.Z)(D,2),B=G[0],F=G[1],U=(0,g.useState)(""),q=(0,a.Z)(U,2),T=q[0],A=q[1],N=(0,g.useState)(""),L=(0,a.Z)(N,2),O=L[0],V=L[1],H=function(){e.current.click()},J=(0,Z.s0)(),K=(0,g.useState)(0),M=(0,a.Z)(K,2),Q=M[0],X=M[1],Y=function(){var e=(0,t.Z)((0,i.Z)().mark((function e(){var n,r,t,a,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==B&&null!==B&&""!==T&&null!==T&&""!==Q&&null!==Q){e.next=4;break}(0,v.Z)("error","All fields are required"),e.next=28;break;case 4:if(null!==S&&""!==S){e.next=8;break}r={review_id:_,name:B,review:T,rating:Q},e.next=14;break;case 8:return a={image:S},e.next=11,(0,j.nv)(a);case 11:n=e.sent,console.log(n),r={review_id:_,image:null===(t=n)||void 0===t?void 0:t.path,name:B,review:T,rating:Q};case 14:return E(!0),e.prev=15,e.next=18,(0,j.v_)("review/updateReview",r);case 18:s=e.sent,console.log("Update Review "),console.log(s),s.error?(console.log("error true"),(0,v.Z)("error",s.message),E(!1)):(setTimeout((function(){(0,v.Z)("success","Review Updated Successfully"),J("/reviews")}),1e3),E(!1)),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(15),(0,v.Z)("error","Something Went Wrong"),E(!1);case 28:case"end":return e.stop()}}),e,null,[[15,24]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=(0,t.Z)((0,i.Z)().mark((function e(){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={review_id:_},e.next=4,(0,j.v_)("review/getReviewDetails",n);case 4:r=e.sent,console.log("GET REVIEW "),console.log(r),r.error||(F(r.data.name),A(r.data.review),X(r.data.rating),V(r.data.image)),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return(0,g.useEffect)((function(){$()}),[]),(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(s.ZP,{container:!0,spacing:2,children:(0,w.jsx)(s.ZP,{item:!0,xs:12,md:12,style:{position:"relative"},children:(0,w.jsxs)(s.ZP,{container:!0,spacing:2,children:[(0,w.jsxs)(s.ZP,{item:!0,xs:12,md:12,style:{display:"flex",flexDirection:"row",justifyContent:"left",marginBottom:"2%"},children:[(0,w.jsx)(l.Z,{title:"Back",children:(0,w.jsx)(o.Z,{onClick:function(){J("/reviews")},className:"poppinsRegularBold",sx:{paddingInline:"10px",display:"block",color:"#03356b",backgroundColor:"none",fontSize:"16px",fontWeight:600,borderRadius:"50px",textTransform:"capitalize",transition:"background-color 0.3s, color 0.3s",transitionDelay:"0.3s",marginRight:"10px","&:hover":{backgroundColor:"#03356b",color:"white"}},children:(0,w.jsx)(f.Z,{})})}),(0,w.jsx)(c.Z,{variant:"h3",style:{fontWeight:700},children:"Edit Review"})]}),(0,w.jsx)(s.ZP,{item:!0,xs:12,md:12,children:(0,w.jsxs)(s.ZP,{container:!0,spacing:3,children:[(0,w.jsx)(s.ZP,{item:!0,xs:12,md:12,children:(0,w.jsx)(s.ZP,{container:!0,spacing:2,style:{border:"1px solid lightGray",borderRadius:"10px",backgroundColor:"white"},children:(0,w.jsx)(s.ZP,{item:!0,xs:12,md:12,children:(0,w.jsxs)(s.ZP,{container:!0,spacing:2,children:[(0,w.jsxs)(s.ZP,{item:!0,xs:12,md:6,style:{padding:"20px"},children:[(0,w.jsxs)(d.Z,{spacing:1,children:[(0,w.jsx)(c.Z,{variant:"h5",children:"Name"}),(0,w.jsx)(u.Z,{id:"email-login",type:"text",value:B,name:"name",onChange:function(e){return F(e.target.value)},fullWidth:!0})]}),(0,w.jsxs)(d.Z,{spacing:1,children:[(0,w.jsx)(c.Z,{variant:"h5",children:"Review"}),(0,w.jsx)(u.Z,{id:"review",type:"text",value:T,name:"review",onChange:function(e){return A(e.target.value)},fullWidth:!0,multiline:!0,rows:4})]}),(0,w.jsxs)(d.Z,{spacing:1,children:[(0,w.jsx)(c.Z,{variant:"h5",children:" Rating"}),(0,w.jsx)(b.Z,{name:"size-large",value:Q,onChange:function(e,n){X(n)},size:"large"})]})]}),(0,w.jsx)(s.ZP,{item:!0,xs:12,md:6,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,w.jsxs)(d.Z,{spacing:1,children:[""===y||null===y?(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(x.Z,{src:"".concat(j._n).concat(O),onClick:H,alt:"Selected",style:{width:"auto",height:"200px",border:"1px solid lightGray",borderRadius:"10px"},variant:"square"})}):(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(h.Z,{onClick:H,style:{marginInline:"2%",backgroundColor:"#f2f0f0",border:"3px dotted #cecece",borderRadius:"10px",display:"flex",justifyContent:"center",flexDirection:"column"},children:[y&&(0,w.jsx)(x.Z,{src:y,alt:"Selected",style:{width:"auto",height:"200px",border:"1px solid lightGray",borderRadius:"10px"},variant:"square"}),(0,w.jsx)(p.Z,{children:(0,w.jsx)(o.Z,{onClick:function(){return k("")},disableElevation:!0,variant:"outlined",size:"medium",style:{color:"rgb(76 91 104)",fontWeight:700,backgroundColor:"white",border:"1px solid lightGray",boxShadow:" 0px 2px 30px -15px rgba(94,94,107,0.67)",marginBlock:"1%"},color:"secondary",children:"Change Image"})})]})}),(0,w.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},id:"fileInput",onChange:function(e){var n=e.target.files[0];if(n){P(n);var r=new FileReader;r.onload=function(){k(r.result)},r.readAsDataURL(n)}},ref:e})]})})]})})})}),(0,w.jsx)(s.ZP,{item:!0,xs:12,align:"right",children:(0,w.jsx)(o.Z,{disabled:z,startIcon:z?(0,w.jsx)(m.Z,{color:"#fff",loading:z,size:20}):null,onClick:function(){return Y()},disableElevation:!0,variant:"contained",size:"medium",style:{fontWeight:700,color:"white",boxShadow:" 0px 2px 30px -15px rgba(94,94,107,0.67)",marginInline:"2%"},color:"primary",children:"Save"})})]})})]})})})})}}}]);
//# sourceMappingURL=546.887849c8.chunk.js.map
"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[888],{18888:function(e,r,i){i.r(r);var n=i(74165),t=i(15861),a=i(29439),s=i(61889),o=i(20068),l=i(36151),c=i(20890),d=i(1582),p=i(28029),u=i(47071),h=i(94925),x=i(64554),g=i(93044),m=i(72791),f=i(85231),Z=i(99372),_=i(43500),j=i(72351),y=i(26564),k=i(37781),b=i(57689),v=i(14473),w=i(81724),C=i(92506),S=i(80184);r.default=function(){var e=(0,m.useRef)(null),r=(0,m.useState)(null),i=(0,a.Z)(r,2),P=i[0],B=i[1],q=(0,m.useState)(null),R=(0,a.Z)(q,2),W=R[0],I=R[1],z=function(e){var r=e.target.files[0];if(r){I(r);var i=new FileReader;i.onload=function(){B(i.result)},i.readAsDataURL(r)}},D=function(){e.current.click()},A=(0,b.s0)(),E=(0,m.useState)(""),F=(0,a.Z)(E,2),L=F[0],T=F[1],G=function(){var e=(0,t.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,v.U2)("program/get");case 3:r=e.sent,console.log("ALL PROGRAMS"),console.log(r),r.error||T(r.result[0].program_id),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,m.useEffect)((function(){G()}),[]),(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(s.ZP,{container:!0,spacing:2,children:(0,S.jsx)(s.ZP,{item:!0,xs:12,md:12,style:{position:"relative"},children:(0,S.jsxs)(s.ZP,{container:!0,spacing:2,children:[(0,S.jsxs)(s.ZP,{item:!0,xs:12,md:12,style:{display:"flex",flexDirection:"row",justifyContent:"left",marginBottom:"2%"},children:[(0,S.jsx)(o.Z,{title:"Back",children:(0,S.jsx)(l.Z,{onClick:function(){A("/users")},className:"poppinsRegularBold",sx:{paddingInline:"10px",display:"block",color:"#03356b",backgroundColor:"none",fontSize:"16px",fontWeight:600,borderRadius:"50px",textTransform:"capitalize",transition:"background-color 0.3s, color 0.3s",transitionDelay:"0.3s",marginRight:"10px","&:hover":{backgroundColor:"#03356b",color:"white"}},children:(0,S.jsx)(Z.Z,{})})}),(0,S.jsx)(c.Z,{variant:"h3",style:{fontWeight:700},children:"Add Course"})]}),(0,S.jsx)(s.ZP,{item:!0,xs:12,md:12,children:(0,S.jsx)(C.J9,{initialValues:{name:"",description:"",stripe_payment_link:"",package_price:"",offer_price:"",total_students:"",submit:null},validationSchema:w.Ry().shape({name:w.Z_().required("Name is required"),description:w.Z_().required("Description is required"),stripe_payment_link:w.Z_().required("Stripe Payment Link is required"),package_price:w.Z_().required("Price is required"),offer_price:w.Z_().required("Offer Price is required"),total_students:w.Z_().required("Total Students is required")}),onSubmit:function(){var e=(0,t.Z)((0,n.Z)().mark((function e(r,i){var t,a,s,o,l,c,d,p;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.setErrors,a=i.setStatus,s=i.setSubmitting,i.resetForm,e.prev=1,console.log(r),console.log(W),null!==W&&""!==W){e.next=8;break}(0,k.Z)("error","Image is required"),e.next=13;break;case 8:return c={image:W},e.next=11,(0,v.nv)(c);case 11:l=e.sent,console.log(l);case 13:return s(!0),d={image:null===(o=l)||void 0===o?void 0:o.path,program_id:L,package_name:r.name,description:r.description,package_price:r.package_price,stripe_payment_link:r.stripe_payment_link,type:"one-time",package_offer_price:r.offer_price,total_students:r.total_students},e.prev=15,e.next=18,(0,v.v_)("package/add",d);case 18:p=e.sent,console.log("ADD Packahge "),console.log(p),p.error?(console.log("error true"),(0,k.Z)("error",p.message),s(!1)):(setTimeout((function(){(0,k.Z)("success","Course Created Successfully"),A("/courses")}),1e3),a({success:!1}),s(!1)),e.next=29;break;case 24:e.prev=24,e.t0=e.catch(15),(0,k.Z)("error","Something Went Wrong"),a({success:!1}),s(!1);case 29:a({success:!1}),s(!1),e.next=38;break;case 33:e.prev=33,e.t1=e.catch(1),a({success:!1}),t({submit:e.t1.message}),s(!1);case 38:case"end":return e.stop()}}),e,null,[[1,33],[15,24]])})));return function(r,i){return e.apply(this,arguments)}}(),children:function(r){var i=r.errors,n=r.handleBlur,t=r.handleChange,a=r.handleSubmit,o=r.isSubmitting,m=r.touched,Z=r.values,k=r.submitForm;return(0,S.jsx)("form",{noValidate:!0,onSubmit:a,children:(0,S.jsxs)(s.ZP,{container:!0,spacing:3,children:[(0,S.jsx)(s.ZP,{item:!0,xs:12,md:12,children:(0,S.jsx)(s.ZP,{container:!0,spacing:2,style:{border:"1px solid lightGray",borderRadius:"10px",backgroundColor:"white"},children:(0,S.jsx)(s.ZP,{item:!0,xs:12,md:12,children:(0,S.jsxs)(s.ZP,{container:!0,spacing:2,children:[(0,S.jsxs)(s.ZP,{item:!0,xs:12,md:6,style:{padding:"20px"},children:[(0,S.jsxs)(d.Z,{spacing:1,children:[(0,S.jsx)(c.Z,{variant:"h5",children:"Title"}),(0,S.jsx)(p.Z,{id:"email-login",type:"text",value:Z.name,name:"name",onBlur:n,onChange:t,fullWidth:!0,error:Boolean(m.name&&i.name)}),m.name&&i.name&&(0,S.jsx)(u.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:i.name})]}),(0,S.jsxs)(d.Z,{spacing:1,children:[(0,S.jsx)(c.Z,{variant:"h5",children:"Description"}),(0,S.jsx)(p.Z,{id:"description",type:"text",value:Z.description,name:"description",onBlur:n,onChange:t,fullWidth:!0,multiline:!0,rows:4,error:Boolean(m.description&&i.description)}),m.description&&i.description&&(0,S.jsx)(u.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:i.description})]}),(0,S.jsxs)(d.Z,{spacing:1,children:[(0,S.jsx)(c.Z,{variant:"h5",children:"Stripe Payment Link"}),(0,S.jsx)(h.Z,{htmlFor:"email-login",children:"This link should be get from stripe Products Dashboard ."}),(0,S.jsxs)(d.Z,{spacing:1,display:"flex",direction:"row",children:[(0,S.jsx)(p.Z,{id:"stripe_payment_link",type:"text",value:Z.stripe_payment_link,name:"stripe_payment_link",onBlur:n,onChange:t,fullWidth:!0,error:Boolean(m.stripe_payment_link&&i.stripe_payment_link)}),(0,S.jsx)(l.Z,{disableElevation:!0,variant:"outlined",onClick:function(){return window.open("https://dashboard.stripe.com/","_blank")},startIcon:(0,S.jsx)(_.Z,{}),size:"medium",style:{color:"rgb(76 91 104)",fontWeight:700,backgroundColor:"white",border:"1px solid lightGray",boxShadow:" 0px 2px 30px -15px rgba(94,94,107,0.67)"},color:"secondary",children:"Stripe"})]}),m.stripe_payment_link&&i.stripe_payment_link&&(0,S.jsx)(u.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:i.stripe_payment_link})]}),(0,S.jsxs)(d.Z,{spacing:1,children:[(0,S.jsx)(c.Z,{variant:"h5",children:" Original Price"}),(0,S.jsx)(p.Z,{id:"package_price",type:"text",value:Z.package_price,name:"package_price",onBlur:n,onChange:t,fullWidth:!0,error:Boolean(m.package_price&&i.package_price)}),m.package_price&&i.package_price&&(0,S.jsx)(u.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:i.package_price})]}),(0,S.jsxs)(d.Z,{spacing:1,children:[(0,S.jsx)(c.Z,{variant:"h5",children:"Offer Price"}),(0,S.jsx)(p.Z,{id:"offer_price",type:"text",value:Z.offer_price,name:"offer_price",onBlur:n,onChange:t,fullWidth:!0,error:Boolean(m.offer_price&&i.offer_price)}),m.offer_price&&i.offer_price&&(0,S.jsx)(u.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:i.offer_price})]}),(0,S.jsxs)(d.Z,{spacing:1,children:[(0,S.jsx)(c.Z,{variant:"h5",children:"Total Students"}),(0,S.jsx)(p.Z,{id:"total_students",type:"text",value:Z.total_students,name:"total_students",onBlur:n,onChange:t,fullWidth:!0,error:Boolean(m.total_students&&i.total_students)}),m.total_students&&i.total_students&&(0,S.jsx)(u.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:i.total_students})]})]}),(0,S.jsx)(s.ZP,{item:!0,xs:12,md:6,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,S.jsxs)(d.Z,{spacing:1,children:[""===P||null===P?(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(x.Z,{onClick:D,style:{width:"100%",marginInline:"2%",padding:"15px",backgroundColor:"#f2f0f0",border:"3px dotted #cecece",borderRadius:"10px"},children:(0,S.jsxs)(x.Z,{style:{display:"flex",alignItems:"center",justifyContent:"center",paddingBlock:"10%",flexDirection:"column"},children:[(0,S.jsx)(j.Z,{style:{fontSize:"50px",color:"gray"}}),(0,S.jsx)(c.Z,{variant:"h6",children:"Choose an image"})]})})}):(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(x.Z,{onClick:D,style:{marginInline:"2%",backgroundColor:"#f2f0f0",border:"3px dotted #cecece",borderRadius:"10px",display:"flex",justifyContent:"center",flexDirection:"column"},children:[P&&(0,S.jsx)(g.Z,{src:P,alt:"Selected",style:{width:"auto",height:"200px",border:"1px solid lightGray",borderRadius:"10px"},variant:"square"}),(0,S.jsx)(f.Z,{children:(0,S.jsx)(l.Z,{onClick:function(){return B("")},disableElevation:!0,variant:"outlined",size:"medium",style:{color:"rgb(76 91 104)",fontWeight:700,backgroundColor:"white",border:"1px solid lightGray",boxShadow:" 0px 2px 30px -15px rgba(94,94,107,0.67)",marginBlock:"1%"},color:"secondary",children:"Change Image"})})]})}),(0,S.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},id:"fileInput",onChange:z,ref:e})]})})]})})})}),(0,S.jsxs)(s.ZP,{item:!0,xs:12,align:"right",children:[(0,S.jsx)(l.Z,{disabled:o,startIcon:o?(0,S.jsx)(y.Z,{color:"#fff",loading:o,size:20}):null,type:"submit",disableElevation:!0,variant:"contained",size:"medium",style:{fontWeight:700,color:"white",boxShadow:" 0px 2px 30px -15px rgba(94,94,107,0.67)",marginInline:"2%"},color:"primary",children:"Save"}),(0,S.jsx)(l.Z,{disabled:o,startIcon:o?(0,S.jsx)(y.Z,{color:"#fff",loading:o,size:20}):null,onClick:function(){k().then((function(){window.location.reload()}))},disableElevation:!0,variant:"contained",size:"medium",style:{fontWeight:700,color:"white",boxShadow:" 0px 2px 30px -15px rgba(94,94,107,0.67)"},color:"primary",children:"Save & Add More"})]})]})})}})})]})})})})}},43500:function(e,r,i){i.d(r,{Z:function(){return l}});var n=i(1413),t=i(72791),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},s=i(34110),o=function(e,r){return t.createElement(s.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:r,icon:a}))};o.displayName="PaperClipOutlined";var l=t.forwardRef(o)}}]);
//# sourceMappingURL=888.e8d55e91.chunk.js.map
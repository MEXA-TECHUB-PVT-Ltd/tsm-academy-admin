"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[918],{39968:function(e,t,n){var i=n(1582),r=n(20890),s=n(61889),l=n(81918),a=n(55184),o=n(80184),c=function(e){var t=e.color,n=e.title,c=e.count,d=e.percentage;e.isLoss,e.extra;return(0,o.jsx)(a.Z,{contentSX:{p:2.25},children:(0,o.jsxs)(i.Z,{spacing:.5,children:[(0,o.jsx)(r.Z,{variant:"h6",color:"textSecondary",children:n}),(0,o.jsxs)(s.ZP,{container:!0,alignItems:"center",children:[(0,o.jsx)(s.ZP,{item:!0,children:(0,o.jsx)(r.Z,{variant:"h4",color:"inherit",children:c})}),d&&(0,o.jsx)(s.ZP,{item:!0,children:(0,o.jsx)(l.Z,{variant:"combined",color:t,label:"".concat(d,"%"),sx:{ml:1.25,pl:1},size:"small"})})]})]})})};c.defaultProps={color:"primary"},t.Z=c},10918:function(e,t,n){n.r(t),n.d(t,{default:function(){return K}});var i=n(74165),r=n(15861),s=n(29439),l=n(61889),a=n(20890),o=n(72791),c=n(1582),d=n(64554),x=n(47047),u=n(66362),h=n(94925),g=n(99321),Z=n(23786),j=n(48550),p=n(63466),m=n(36151),v=n(39281),f=n(79836),b=n(56890),y=n(35855),P=n(53994),S=n(53382),w=n(93044),C=n(20068),k=n(26812),_=n(80911),z=n(94721),R=n(28029),W=n(5289),F=n(39157),E=n(51691),L=n(65661),T=n(40939),A=n(14473),N=n(11730),I=n(82864),D=n(75033),M=n(4783),O=n(37781),q=n(90838),B=n(85231),Q=n(22299),U=n.n(Q),X=n(53386),G=n(80184),Y=function(e){var t,n;switch(e.status){case"pending":t="warning",n="Pending";break;case"resolved":t="success",n="Resolved";break;case"rejected":t="error",n="Rejected";break;default:t="primary",n="None"}return(0,G.jsxs)(c.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,G.jsx)(T.Z,{color:t}),(0,G.jsx)(a.Z,{children:n})]})};function H(){var e=(0,o.useState)([]),t=(0,s.Z)(e,2),n=t[0],T=t[1],Q=(0,o.useState)([]),H=(0,s.Z)(Q,2),J=H[0],K=H[1],V=o.useState(null),$=(0,s.Z)(V,2),ee=$[0],te=$[1],ne=Boolean(ee),ie=function(e){te(e.currentTarget)},re=(0,o.useState)(!1),se=(0,s.Z)(re,2),le=se[0],ae=se[1],oe=function(){ae(!1)},ce=(0,o.useState)(!1),de=(0,s.Z)(ce,2),xe=de[0],ue=de[1],he=function(){ue(!1)},ge=(0,o.useState)(0),Ze=(0,s.Z)(ge,2),je=Ze[0],pe=Ze[1],me=(0,o.useState)(!1),ve=(0,s.Z)(me,2),fe=ve[0],be=ve[1],ye=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){var t,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(be(!0),console.log(je),""!==Ne&&null!==Ne){e.next=6;break}(0,O.Z)("error","Please Enter Reason"),e.next=13;break;case 6:return t={subscription_id:je,reason:Ne},e.next=9,(0,A.v_)("user/cancelSubscriptionReq",t);case 9:n=e.sent,console.log("Reason Sent "),console.log(n),n.error?((0,O.Z)("error",n.message),be(!1)):((0,O.Z)("success",n.message),ue(!1),Ie(""),be(!1));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=(0,o.useState)(0),Se=(0,s.Z)(Pe,2),we=Se[0],Ce=Se[1],ke=(0,o.useState)(5),_e=(0,s.Z)(ke,2),ze=_e[0],Re=_e[1],We=(0,o.useState)(!0),Fe=(0,s.Z)(We,2),Ee=Fe[0],Le=Fe[1],Te=(0,o.useState)(""),Ae=(0,s.Z)(Te,2),Ne=Ae[0],Ie=Ae[1],De=(0,o.useState)(!1),Me=(0,s.Z)(De,2),Oe=Me[0],qe=Me[1],Be=(0,o.useState)(!1),Qe=(0,s.Z)(Be,2),Ue=Qe[0],Xe=Qe[1],Ge=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,A.U2)("contact_us/getAllContacts");case 3:t=e.sent,console.log("ALL Contacts"),console.log(t),t.error||(T(t.result),K(t.result),qe(!1)),Le(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Le(!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),Ye=(0,o.useState)(""),He=(0,s.Z)(Ye,2),Je=He[0],Ke=He[1],Ve=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){var t,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return be(!0),t={contact_id:je,status:Je},e.next=4,(0,A.v_)("contact_us/updateContact",t);case 4:n=e.sent,console.log("ALL Contacts"),console.log(n),n.error?((0,O.Z)("error",n.message),be(!1)):((0,O.Z)("success",n.message),Ge(),window.location.reload(),ae(!1),be(!1));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$e=o.useState(""),et=(0,s.Z)($e,2),tt=et[0],nt=et[1],it=o.useState([]),rt=(0,s.Z)(it,2),st=rt[0],lt=rt[1];return(0,o.useEffect)((function(){Ge()}),[we,ze]),(0,G.jsx)(d.Z,{children:Ee?(0,G.jsx)(G.Fragment,{children:(0,G.jsxs)(l.ZP,{container:!0,spacing:2,pt:10,children:[(0,G.jsx)(l.ZP,{item:!0,xs:12,md:12,children:(0,G.jsx)(x.Z,{variant:"rectangular",height:100})}),(0,G.jsx)(l.ZP,{item:!0,xs:12,md:12,children:(0,G.jsx)(x.Z,{variant:"rectangular",height:100})}),(0,G.jsx)(l.ZP,{item:!0,xs:12,md:12,children:(0,G.jsx)(x.Z,{variant:"rectangular",height:100})})]})}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(l.ZP,{container:!0,spacing:2,children:[(0,G.jsxs)(l.ZP,{item:!0,xs:12,md:12,align:"right",style:{display:"flex",justifyContent:"right"},children:[(0,G.jsx)(d.Z,{sx:{minWidth:190},children:(0,G.jsxs)(u.Z,{fullWidth:!0,children:[(0,G.jsx)(h.Z,{id:"demo-simple-select-label",children:"Filter by Status"}),(0,G.jsxs)(g.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:tt,label:"Filter by Status",onChange:function(e){nt(e.target.value);var t=J.filter((function(t){return t.status===e.target.value}));console.log(t),0===t.length?(0,O.Z)("error","No data Exist for this Status"):lt(t)},children:[(0,G.jsx)(Z.Z,{value:"open",children:"Pending"}),(0,G.jsx)(Z.Z,{value:"resolved",children:"Resolved"}),(0,G.jsx)(Z.Z,{value:"rejected",children:"Rejected"})]})]})}),(0,G.jsx)(j.Z,{id:"outlined-basic",label:"Search by Name",variant:"outlined",size:"small",onChange:function(e){if(qe(!0),""===e.target.value||null===e.target.value)T(J),qe(!1);else{var t=J.filter((function(t){return t.name&&t.name.toLowerCase().includes(e.target.value.toLowerCase())}));console.log(t),T(t),qe(!1)}},style:{width:"300px",marginLeft:"20px"},InputProps:{endAdornment:(0,G.jsx)(p.Z,{position:"end",children:Oe?(0,G.jsx)(G.Fragment,{children:(0,G.jsx)(U(),{color:"#03356b",loading:Oe,size:25})}):(0,G.jsx)(N.Z,{})})}}),(0,G.jsx)(B.Z,{children:(0,G.jsx)(m.Z,{disableElevation:!0,onClick:function(){Xe(!0),Xe(!1)},variant:"outlined",startIcon:Ue?(0,G.jsx)(U(),{color:"#03356b",loading:Ue,size:25}):(0,G.jsx)(I.Z,{}),size:"medium",style:{marginLeft:"20px",color:"rgb(76 91 104)",fontWeight:700,backgroundColor:"white",border:"1px solid lightGray",boxShadow:" 0px 2px 30px -15px rgba(94,94,107,0.67)"},color:"secondary",children:(0,G.jsx)(X.Z,{data:n.map((function(e){return{" Name":null===e||void 0===e?void 0:e.name,Email:null===e||void 0===e?void 0:e.email,Message:null===e||void 0===e?void 0:e.message,Status:null===e||void 0===e?void 0:e.status,Date:(0,q.p)(null===e||void 0===e?void 0:e.created_at)}})),FileName:"Contact Section"})})})]}),(0,G.jsx)(l.ZP,{item:!0,xs:12,md:12,align:"right",children:(0,G.jsx)(v.Z,{sx:{width:"100%",overflowX:"auto",position:"relative",display:"block",maxWidth:"100%","& td, & th":{whiteSpace:"nowrap"}},children:(0,G.jsxs)(f.Z,{"aria-labelledby":"tableTitle",sx:{"& .MuiTableCell-root:first-of-type":{pl:2},"& .MuiTableCell-root:last-of-type":{pr:3}},children:[(0,G.jsx)(b.Z,{children:(0,G.jsxs)(y.Z,{children:[(0,G.jsx)(P.Z,{align:"left",children:"Name"}),(0,G.jsx)(P.Z,{align:"center",children:"Message "}),(0,G.jsx)(P.Z,{align:"center",children:"Type "}),(0,G.jsx)(P.Z,{align:"center",children:"Date"}),(0,G.jsx)(P.Z,{align:"right"})]})}),(0,G.jsx)(S.Z,{children:0===st.length?(0,G.jsx)(G.Fragment,{children:0===n.length?(0,G.jsx)(G.Fragment,{children:(0,G.jsx)(y.Z,{children:(0,G.jsx)(P.Z,{colSpan:6,align:"center",children:(0,G.jsx)(d.Z,{style:{display:"flex",justifyContent:"center"},children:(0,G.jsx)(w.Z,{variant:"square",src:M,alt:"No Data",style:{width:"64px",height:"auto",marginBlock:"2%"}})})})})}):(0,G.jsx)(G.Fragment,{children:n.slice(we*ze,we*ze+ze).map((function(e){return(0,G.jsxs)(y.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,G.jsx)(P.Z,{component:"th",scope:"row",style:{cursor:"pointer"},children:(0,G.jsx)(l.ZP,{container:!0,spacing:2,children:(0,G.jsxs)(l.ZP,{item:!0,xs:10,md:10,children:[(0,G.jsx)(a.Z,{variant:"h5",style:{fontWeight:200},children:null===e||void 0===e?void 0:e.name}),(0,G.jsx)(a.Z,{variant:"h6",style:{fontWeight:200,color:"gray"},children:null===e||void 0===e?void 0:e.email})]})})}),(0,G.jsx)(P.Z,{align:"center",children:null===e||void 0===e?void 0:e.message}),(0,G.jsxs)(P.Z,{align:"center",children:["  ",(0,G.jsx)(Y,{status:e.status})]}),(0,G.jsx)(P.Z,{align:"center",children:(0,q.p)(null===e||void 0===e?void 0:e.created_at)}),(0,G.jsx)(P.Z,{align:"center",children:(0,G.jsx)(C.Z,{title:"Action",children:(0,G.jsx)(D.Z,{style:{fontSize:"30px",cursor:"pointer"},onClick:function(t){pe(null===e||void 0===e?void 0:e.contact_id),ie(t)}})})})]},e.product_id)}))})}):(0,G.jsx)(G.Fragment,{children:st.map((function(e){return(0,G.jsxs)(y.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,G.jsx)(P.Z,{component:"th",scope:"row",style:{cursor:"pointer"},children:(0,G.jsx)(l.ZP,{container:!0,spacing:2,children:(0,G.jsxs)(l.ZP,{item:!0,xs:10,md:10,children:[(0,G.jsx)(a.Z,{variant:"h5",style:{fontWeight:200},children:null===e||void 0===e?void 0:e.name}),(0,G.jsx)(a.Z,{variant:"h6",style:{fontWeight:200,color:"gray"},children:null===e||void 0===e?void 0:e.email})]})})}),(0,G.jsx)(P.Z,{align:"center",children:null===e||void 0===e?void 0:e.message}),(0,G.jsxs)(P.Z,{align:"center",children:["  ",(0,G.jsx)(Y,{status:e.status})]}),(0,G.jsx)(P.Z,{align:"center",children:(0,q.p)(null===e||void 0===e?void 0:e.created_at)}),(0,G.jsx)(P.Z,{align:"center",children:(0,G.jsx)(C.Z,{title:"Action",children:(0,G.jsx)(D.Z,{style:{fontSize:"30px",cursor:"pointer"},onClick:function(t){pe(null===e||void 0===e?void 0:e.contact_id),ie(t)}})})})]},e.product_id)}))})})]})})}),(0,G.jsx)(l.ZP,{item:!0,xs:12,md:12,align:"right",children:(0,G.jsx)(k.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:n.length,rowsPerPage:ze,page:we,onPageChange:function(e,t){Ce(t)},onRowsPerPageChange:function(e){Re(parseInt(e.target.value,10)),Ce(0)}})})]}),(0,G.jsxs)(_.Z,{id:"basic-menu",anchorEl:ee,open:ne,onClose:function(){te(null)},MenuListProps:{"aria-labelledby":"basic-button"},PaperProps:{elevation:0,sx:{overflow:"visible",boxShadow:"0px 2px 30px -15px rgba(94,94,107,0.67)",mt:1.5}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[(0,G.jsx)(Z.Z,{style:{color:"green"},onClick:function(){te(null),ae(!0),Ke("resolved")},children:"Resolved Query"}),(0,G.jsx)(Z.Z,{style:{color:"red"},onClick:function(){te(null),ae(!0),Ke("rejected")},children:"Reject Request "})]}),(0,G.jsxs)(W.Z,{open:le,onClose:oe,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,G.jsx)(L.Z,{sx:{m:0,p:2,fontSize:"20px",fontWeight:700},id:"customized-dialog-title",children:"Confirmation Dialog"}),(0,G.jsx)(F.Z,{children:(0,G.jsxs)(l.ZP,{container:!0,spacing:2,children:[(0,G.jsx)(l.ZP,{item:!0,xs:12,children:(0,G.jsx)(z.Z,{})}),(0,G.jsx)(l.ZP,{item:!0,xs:12,children:(0,G.jsxs)(E.Z,{id:"alert-dialog-description",style:{fontSize:"15px",color:"black"},children:["Are you sure you want to ","rejected"===Ke?(0,G.jsx)(G.Fragment,{children:"Reject"}):(0,G.jsx)(G.Fragment,{children:"Resolve"})," this Query?"]})}),(0,G.jsx)(l.ZP,{item:!0,xs:12,children:(0,G.jsx)(z.Z,{})}),(0,G.jsxs)(l.ZP,{item:!0,xs:12,align:"right",children:[(0,G.jsx)(m.Z,{disableElevation:!0,onClick:oe,variant:"outlined",size:"medium",style:{marginRight:"12px",fontWeight:700,color:"gray",boxShadow:" 0px 2px 30px -15px rgba(94,94,107,0.67)"},color:"secondary",children:"No"}),(0,G.jsx)(m.Z,{disabled:fe,startIcon:fe?(0,G.jsx)(U(),{color:"#fff",loading:fe,size:25}):null,onClick:function(){return Ve()},disableElevation:!0,variant:"contained",size:"medium",style:{fontWeight:700,color:"white",boxShadow:" 0px 2px 30px -15px rgba(94,94,107,0.67)"},color:"error",children:"Yes"})]})]})})]}),(0,G.jsxs)(W.Z,{open:xe,onClose:he,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,G.jsx)(L.Z,{sx:{m:0,p:2,fontSize:"20px",fontWeight:700},id:"customized-dialog-title",children:"We are sorry to see you go \ud83d\ude14"}),(0,G.jsx)(F.Z,{children:(0,G.jsxs)(l.ZP,{container:!0,spacing:2,children:[(0,G.jsx)(l.ZP,{item:!0,xs:12,children:(0,G.jsx)(z.Z,{})}),(0,G.jsx)(l.ZP,{item:!0,xs:12,children:(0,G.jsxs)(c.Z,{spacing:1,children:[(0,G.jsx)(a.Z,{variant:"h5",children:"Reason for cancellation"}),(0,G.jsx)(c.Z,{spacing:1,display:"flex",direction:"row",children:(0,G.jsx)(R.Z,{id:"cancellation_reason",type:"text",value:Ne,name:"cancellation_reason",multiline:!0,rows:4,onChange:function(e){return Ie(e.target.value)},fullWidth:!0})})]})}),(0,G.jsx)(l.ZP,{item:!0,xs:12,children:(0,G.jsx)(z.Z,{})}),(0,G.jsxs)(l.ZP,{item:!0,xs:12,align:"right",children:[(0,G.jsx)(m.Z,{disableElevation:!0,onClick:he,variant:"outlined",size:"medium",style:{marginRight:"12px",fontWeight:700,color:"gray",boxShadow:" 0px 2px 30px -15px rgba(94,94,107,0.67)"},color:"secondary",children:"Cancel"}),(0,G.jsx)(m.Z,{disabled:fe,onClick:function(){return ye()},disableElevation:!0,variant:"contained",size:"medium",style:{fontWeight:700,color:"white",boxShadow:" 0px 2px 30px -15px rgba(94,94,107,0.67)"},color:"primary",children:"Submit"})]})]})})]})]})})}var J=n(39968),K=function(){var e=(0,o.useState)(0),t=(0,s.Z)(e,2),n=t[0],c=t[1],d=(0,o.useState)(0),x=(0,s.Z)(d,2),u=x[0],h=x[1],g=(0,o.useState)(0),Z=(0,s.Z)(g,2),j=Z[0],p=Z[1],m=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,A.v_)("user/dashboardAdminCount");case 3:t=e.sent,console.log("ALL Dashboard Count"),console.log(t),t.error||(p(t.open_tickets_contact),c(t.resolved_tickets_contact),h(t.rejected_tickets_contact)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching data:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){m()}),[]),(0,G.jsx)(G.Fragment,{children:(0,G.jsxs)(l.ZP,{container:!0,spacing:2,children:[(0,G.jsx)(l.ZP,{item:!0,xs:12,md:12,style:{display:"flex",justifyContent:"space-between"},children:(0,G.jsx)(a.Z,{variant:"h3",style:{fontWeight:700},children:"Contact Us"})}),(0,G.jsx)(l.ZP,{item:!0,xs:12,md:12,children:(0,G.jsxs)(l.ZP,{container:!0,spacing:2,children:[(0,G.jsx)(l.ZP,{item:!0,xs:12,sm:6,md:4,lg:4,children:(0,G.jsx)(J.Z,{title:"Total Open Tickets",count:j})}),(0,G.jsx)(l.ZP,{item:!0,xs:12,sm:6,md:4,lg:4,children:(0,G.jsx)(J.Z,{title:"Total Resolved Tickets",count:n})}),(0,G.jsx)(l.ZP,{item:!0,xs:12,sm:6,md:4,lg:4,children:(0,G.jsx)(J.Z,{title:"Total Rejected Tickets",count:u})})]})}),(0,G.jsx)(l.ZP,{item:!0,xs:12,md:12,children:(0,G.jsx)(H,{})})]})})}}}]);
//# sourceMappingURL=918.625096f2.chunk.js.map